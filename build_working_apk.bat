@echo off
echo ========================================
echo    ุจูุงุก APK ุงูููุงุฆู - ุฌููุน ุงููุชุทูุจุงุช
echo ========================================
echo.

echo ุงูุฎุทูุฉ 1: ูุณุฎ ุงูููุฏ ุงูููุงุฆู...
copy "lib\main_working.dart" "lib\main.dart" /Y
echo โ ุชู ูุณุฎ ุงูููุฏ ุงูููุงุฆู
echo.

echo ุงูุฎุทูุฉ 2: ุงูุชุฃูุฏ ูู ุงูุฃุตูู...
if exist "M:\7j\logo.png" (
    copy "M:\7j\logo.png" "assets\images\logo.png" /Y
    echo โ ุชู ูุณุฎ ุงูุดุนุงุฑ
) else (
    echo โ๏ธ ููู ุงูุดุนุงุฑ ุบูุฑ ููุฌูุฏ
)
echo.

echo ุงูุฎุทูุฉ 3: ุชูุธูู ุดุงูู...
C:\flutter\bin\flutter clean
echo โ ุชู ุงูุชูุธูู
echo.

echo ุงูุฎุทูุฉ 4: ุชุญููู ุงูุชุจุนูุงุช...
C:\flutter\bin\flutter pub get
echo โ ุชู ุชุญููู ุงูุชุจุนูุงุช
echo.

echo ุงูุฎุทูุฉ 5: ุจูุงุก APK ุงูููุงุฆู...
C:\flutter\bin\flutter build apk --release
echo.

echo ุงูุฎุทูุฉ 6: ูุณุฎ APK ุงูููุงุฆู...
if not exist "APK_COMPLETE" mkdir "APK_COMPLETE"

if exist "build\app\outputs\flutter-apk\app-release.apk" (
    copy "build\app\outputs\flutter-apk\app-release.apk" "APK_COMPLETE\ูุญูู-ุณุฑุนุฉ-v2.0.1-COMPLETE.apk"
    
    for %%A in ("APK_COMPLETE\ูุญูู-ุณุฑุนุฉ-v2.0.1-COMPLETE.apk") do (
        echo โ APK ุงูููุงุฆู ุชู ุฅูุดุงุคู ุจูุฌุงุญ!
        echo ุงูุญุฌู: %%~zA bytes
        powershell -Command "Write-Host 'ุงูุญุฌู ุจุงูููุฌุงุจุงูุช: ' -NoNewline; [math]::Round(%%~zA/1MB,2)"
        echo ุงูุชุงุฑูุฎ: %%~tA
    )
    
    echo.
    echo ========================================
    echo         ุฌููุน ุงููุชุทูุจุงุช ูุทุจูุฉ
    echo ========================================
    echo โ 1. ุดุนุงุฑ ุฃูุจุฑ ุญุฌูุงู (150x150)
    echo โ 2. ุฎุท Tajawal ุงูุนุฑุจู
    echo โ 3. ูุตุงุฆุญ ูุจู ุงูุชุญููู (ุฏุงุฆูุงู ุธุงูุฑุฉ)
    echo โ 4. ุฑุงุจุท ุงููููุน: www.SR3H.com
    echo โ 5. ุฒุฑ "ุญูู" ูุน ุชูุงุตูู ูุงููุฉ
    echo โ 6. ุนุฑุถ ุญุงูุฉ ุงูุชูุนูู ูุงูุจุฑูุฏ
    echo โ 7. ุชุญููู ูุน ุฃูุฑ FFmpeg ุงููุทููุจ
    echo โ 8. ุฅุถุงูุฉ "-SR3H" ูุงุณู ุงูููู ุงููุญูู
    echo โ 9. ุดุฑูุท ุชูุฏู ุฃุซูุงุก ุงูุชุญููู
    echo โ 10. ุฑุณุงุฆู ุชูุตูููุฉ ุนู ุงูุชุญููู
    echo โ 11. ุงูุฃูุฑ: ffmpeg -itsscale 2 -i INPUT.mp4 -c:v copy -c:a copy OUTPUT-SR3H.mp4
    echo โ 12. ูุงุฌูุฉ ูุชุฌุงูุจุฉ ููุญุณูุฉ
    echo.
    
    echo ๐ฑ APK ุงูููุงุฆู ุฌุงูุฒ ููุชูุฒูุน!
    echo ุงูููู: ูุญูู-ุณุฑุนุฉ-v2.0.1-COMPLETE.apk
    echo ุงููุฌูุฏ: APK_COMPLETE
    echo.
    echo ุชุนูููุงุช ุงูุชุซุจูุช:
    echo 1. ุงุญุฐู ุฃู ูุณุฎุฉ ูุฏููุฉ ูู ุงูุฌูุงุฒ
    echo 2. ุงูุณุฎ ุงูููู ุงูุฌุฏูุฏ ุฅูู ุฌูุงุฒ Android
    echo 3. ูุนู "ูุตุงุฏุฑ ุบูุฑ ูุนุฑููุฉ" ูู ุงูุฅุนุฏุงุฏุงุช
    echo 4. ุซุจุช ุงูุชุทุจูู ูุงููุญ ุงูุฃุฐููุงุช ุงููุทููุจุฉ
    echo 5. ุงุณุชุฎุฏู ุงูุจุฑูุฏ: test@example.com ููุชุฌุฑุจุฉ
    echo 6. ุงุฎุชุฑ ููู ููุฏูู ูุงุถุบุท "ุจุฏุก ุงูุชุญููู"
    echo.
    echo ููุงุญุธุฉ: ุงูุชุญููู ูุธูุฑ ุฃูุฑ FFmpeg ุงููุทููุจ ููุญุงูู ุงูุนูููุฉ
    echo ููุญุตูู ุนูู ุชุญููู ูุนููุ ูููู ุฏูุฌ FFmpeg ูุงุญูุงู
    echo.
    
) else (
    echo โ ูุดู ูู ุฅูุดุงุก APK
    echo ูุฑุฌู ูุฑุงุฌุนุฉ ุงูุฃุฎุทุงุก ูุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู
)

echo.
pause